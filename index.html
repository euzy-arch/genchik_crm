<!DOCTYPE html>
<html lang="ru" class="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Финансовый CRM с AI аналитикой для управления личными финансами" />

  <!-- Favicon (можно добавить позже) -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

  <!-- Open Graph метатеги для соц. сетей -->
  <meta property="og:title" content="Finance CRM AI - Умный финансовый помощник" />
  <meta property="og:description" content="Управляйте финансами с AI аналитикой, отслеживайте доходы и расходы" />
  <meta property="og:type" content="website" />

  <!-- Apple/Android метатеги -->
  <meta name="theme-color" content="#3B82F6" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <title>Finance CRM AI - Умный финансовый помощник</title>

  <!-- Предзагрузка шрифтов (если используете) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- CSS переменные для тем -->
  <style>
    :root {
      --background: 0 0% 100%;
      --foreground: 222.2 84% 4.9%;
      --primary: 221.2 83.2% 53.3%;
    }

    .dark {
      --background: 222.2 84% 4.9%;
      --foreground: 210 40% 98%;
      --primary: 217.2 91.2% 59.8%;
    }

    /* Предотвращение скачка контента при загрузке */
    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      background-color: hsl(var(--background));
      color: hsl(var(--foreground));
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      overflow-x: hidden;
    }

    /* Loading state */
    #root:empty::before {
      content: '';
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 50px;
      height: 50px;
      border: 3px solid #e5e7eb;
      border-top-color: #3B82F6;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }
  </style>
</head>

<body>
<div id="root"></div>

<!-- Скрипты -->
<script type="module" src="/src/main.tsx"></script>

<!-- PWA скрипты (опционально) -->
<script>
  // Регистрация Service Worker для PWA
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js').catch(err => {
        console.log('ServiceWorker registration failed: ', err);
      });
    });
  }

  // Установка темы из localStorage
  (function() {
    const theme = localStorage.getItem('theme') || 'light';
    document.documentElement.className = theme;
  })();
</script>
</body>
</html>